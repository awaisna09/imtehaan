<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questions - IGCSE Business Studies</title>
    <link rel="stylesheet" href="questions.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Add Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module">
        import { loadTopics } from './js/questions.js';
        // Load topics when the page loads
        window.addEventListener('load', () => {
            console.log('Page loaded, calling loadTopics...');
            loadTopics();
        });
    </script>
</head>
<body>
    <!-- Main Content -->
    <main class="main-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <!-- Navigation Tabs -->
            <div class="nav-tabs">
                <a href="lesson.html" class="tab-btn">
                    <span class="tab-icon">üìö</span>
                    <span class="tab-text">Lessons</span>
                </a>
                <button class="tab-btn active">
                    <span class="tab-icon">‚ùì</span>
                    <span class="tab-text">Question</span>
                </button>
                <a href="paper.html" class="tab-btn">
                    <span class="tab-icon">üìù</span>
                    <span class="tab-text">Past Paper</span>
                </a>
            </div>

            <!-- Chapter Section -->
            <div class="chapter-section">
                <h3>Chapter:</h3>
                <p class="chapter-name">Chapter name</p>
            </div>

            <!-- Topics List -->
            <div class="topics-section">
                <h3>Topics:</h3>
                <div class="topics-list">
                    <!-- Topics will be loaded dynamically -->
                    <div class="loading-topics">Loading topics...</div>
                </div>
            </div>

            <!-- Question Type Dropdown -->
            <div class="question-type-section">
                <button class="question-type-btn">Questions type ‚ñº</button>
                <div class="question-type-dropdown">
                    <div class="mark-item">2 Marks Questions</div>
                    <div class="mark-item">4 Marks Questions</div>
                    <div class="mark-item">6 Marks Questions</div>
                    <div class="mark-item">8 Marks+ Questions</div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button class="nav-btn">Next chapter</button>
                <button class="nav-btn">Previous chapter</button>
            </div>

            <!-- Notes Section -->
            <div class="notes-section">
                <h3>Notes</h3>
                <textarea placeholder="Quick notes..." class="quick-notes"></textarea>
                <button class="expand-notes-btn">Expand Notes</button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <section class="content-area">
            <h1 class="page-header">Read the question carefully and answer it</h1>
            
            <!-- Questions Box -->
            <div class="questions-box">
                <h2>Questions</h2>
                <div class="questions-list">
                    <div class="question-item">
                        <span class="marks">2 marks</span>
                        <p>What is the purpose of marketing?</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">4 marks</span>
                        <p>Explain two benefits of market research for a business.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">6 marks</span>
                        <p>Analyze how social media marketing can benefit a small business.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">8 marks</span>
                        <p>Evaluate the importance of market segmentation for a large retail business.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[8 marks]</span>
                        <p>Explain four ways in which effective communication can improve the performance of a business.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[10 marks]</span>
                        <p>A manufacturing business is considering changing from batch production to flow production.</p>
                        <p>(a) Explain two advantages and two disadvantages of flow production for this business. [6]</p>
                        <p>(b) Do you think this would be a good decision for the business? Justify your answer. [4]</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[6 marks]</span>
                        <p>Identify and explain three benefits of market segmentation to a business launching a new product.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[12 marks]</span>
                        <p>Read the following case study and answer the questions below:</p>
                        <p>XYZ Electronics is a medium-sized business that manufactures smartphones. The company is facing increased competition and rising costs. The management is considering either reducing prices or increasing advertising spending to maintain market share.</p>
                        <p>(a) Explain two possible advantages and two possible disadvantages of reducing prices. [8]</p>
                        <p>(b) Recommend whether the business should reduce prices or increase advertising. Justify your answer. [4]</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[8 marks]</span>
                        <p>Explain how the following external factors might affect a retail business:</p>
                        <p>(a) Changes in interest rates</p>
                        <p>(b) Increased competition from online retailers</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[10 marks]</span>
                        <p>A business is planning to expand by opening new branches in different locations.</p>
                        <p>(a) Identify and explain two sources of finance that would be suitable for this expansion. [6]</p>
                        <p>(b) Explain two factors the business should consider when choosing locations for the new branches. [4]</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[6 marks]</span>
                        <p>Explain three ways in which motivation theories could be used to improve employee productivity.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[8 marks]</span>
                        <p>Discuss how changes in economic factors might affect the success of a luxury car manufacturer.</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[10 marks]</span>
                        <p>A small business is considering different methods of promotion.</p>
                        <p>(a) Explain three different promotional methods the business could use. [6]</p>
                        <p>(b) Recommend which promotional method would be most suitable. Justify your answer. [4]</p>
                    </div>
                    <div class="question-item">
                        <span class="marks">[8 marks]</span>
                        <p>Explain four benefits of good customer service to a retail business.</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="action-btn show-guidelines-btn">
                    <span class="icon">üìã</span>
                    Show answering guidelines
                </button>
            </div>

            <!-- Answer Input -->
            <div class="chat-input">
                <div class="input-wrapper">
                    <input type="text" placeholder="Type a new message here" class="message-input">
                    <div class="input-actions">
                        <button class="attach-btn" onclick="document.getElementById('file-input').click()">üìé</button>
                        <button class="send-btn">‚ñ∂</button>
                    </div>
                </div>
                <input type="file" id="file-input" class="file-input" multiple>
                <div class="file-preview"></div>
            </div>
        </section>

        <!-- Notes Popup -->
        <div class="notes-popup" id="notesPopup">
            <div class="notes-popup-content">
                <div class="notes-popup-header">
                    <h2>Your Notes</h2>
                    <button class="close-popup">&times;</button>
                </div>
                <textarea placeholder="Write your detailed notes here..." class="detailed-notes"></textarea>
                <button class="save-notes-btn">Save Notes</button>
            </div>
        </div>

        <!-- Answer Guidelines Popup -->
        <div class="guidelines-popup" id="guidelinesPopup">
            <div class="guidelines-popup-content">
                <div class="guidelines-popup-header">
                    <h2>Answer Guidelines</h2>
                    <button class="close-guidelines">&times;</button>
                </div>
                <div class="guidelines-content">
                    <h3>How to Answer This Question:</h3>
                    <ul>
                        <li>Read the question carefully and identify the key requirements</li>
                        <li>Plan your answer before writing</li>
                        <li>Use business terminology appropriately</li>
                        <li>Provide relevant examples to support your points</li>
                        <li>Structure your answer clearly with paragraphs</li>
                        <li>Ensure each point is fully explained</li>
                        <li>Include a brief conclusion if required</li>
                    </ul>
                    <h3>Mark Scheme Breakdown:</h3>
                    <ul>
                        <li>Knowledge and understanding: 3 marks</li>
                        <li>Application: 2 marks</li>
                        <li>Analysis: 2 marks</li>
                        <li>Evaluation: 1 mark</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Question Type Dropdown
        const questionTypeBtn = document.querySelector('.question-type-btn');
        const questionTypeDropdown = document.querySelector('.question-type-dropdown');

        questionTypeBtn.addEventListener('click', () => {
            questionTypeDropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.question-type-section')) {
                questionTypeDropdown.classList.remove('active');
            }
        });

        // Guidelines Popup
        const showGuidelinesBtn = document.querySelector('.show-guidelines-btn');
        const guidelinesPopup = document.querySelector('.guidelines-popup');
        const closeGuidelinesBtn = document.querySelector('.close-guidelines');

        showGuidelinesBtn.addEventListener('click', () => {
            guidelinesPopup.classList.add('active');
        });

        closeGuidelinesBtn.addEventListener('click', () => {
            guidelinesPopup.classList.remove('active');
        });

        guidelinesPopup.addEventListener('click', (e) => {
            if (e.target === guidelinesPopup) {
                guidelinesPopup.classList.remove('active');
            }
        });

        // Notes popup functionality
        const expandNotesBtn = document.querySelector('.expand-notes-btn');
        const notesPopup = document.querySelector('.notes-popup');
        const closePopupBtn = document.querySelector('.close-popup');
        const saveNotesBtn = document.querySelector('.save-notes-btn');
        const quickNotes = document.querySelector('.quick-notes');
        const detailedNotes = document.querySelector('.detailed-notes');

        expandNotesBtn.addEventListener('click', () => {
            notesPopup.classList.add('active');
            detailedNotes.value = quickNotes.value;
        });

        closePopupBtn.addEventListener('click', () => {
            notesPopup.classList.remove('active');
        });

        saveNotesBtn.addEventListener('click', () => {
            quickNotes.value = detailedNotes.value;
            notesPopup.classList.remove('active');
        });

        notesPopup.addEventListener('click', (e) => {
            if (e.target === notesPopup) {
                notesPopup.classList.remove('active');
            }
        });

        // File attachment functionality
        const fileInput = document.querySelector('.file-input');
        const filePreview = document.querySelector('.file-preview');
        const attachBtn = document.querySelector('.attach-btn');

        fileInput.addEventListener('change', (e) => {
            filePreview.innerHTML = '';
            const files = Array.from(e.target.files);
            
            files.forEach(file => {
                const fileElement = document.createElement('div');
                fileElement.className = 'file-item';
                
                // Create file preview
                if (file.type.startsWith('image/')) {
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(file);
                    img.className = 'file-thumbnail';
                    fileElement.appendChild(img);
                }

                // File info
                const fileInfo = document.createElement('div');
                fileInfo.className = 'file-info';
                fileInfo.textContent = `${file.name} (${(file.size / 1024).toFixed(1)}KB)`;
                
                // Remove button
                const removeBtn = document.createElement('button');
                removeBtn.className = 'remove-file';
                removeBtn.innerHTML = '√ó';
                removeBtn.onclick = () => {
                    fileElement.remove();
                    // Remove file from FileList
                    const dt = new DataTransfer();
                    const files = Array.from(fileInput.files);
                    const filteredFiles = files.filter(f => f !== file);
                    filteredFiles.forEach(f => dt.items.add(f));
                    fileInput.files = dt.files;
                };

                fileElement.appendChild(fileInfo);
                fileElement.appendChild(removeBtn);
                filePreview.appendChild(fileElement);
            });

            if (files.length > 0) {
                filePreview.style.display = 'flex';
            }
        });
    </script>
</body>
</html> 